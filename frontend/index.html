<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gesti√≥n de Productos</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Panel de Login/Registro -->
  <div id="auth-container" class="auth-container">
    <div class="auth-box">
      <h1>Gesti√≥n de Productos</h1>
      
      <!-- Tabs Login/Registro -->
      <div class="auth-tabs">
        <button class="auth-tab active" id="tab-login">Iniciar Sesi√≥n</button>
        <button class="auth-tab" id="tab-register">Registrarse</button>
      </div>

      <!-- Formulario Login -->
      <form id="form-login" class="auth-form">
        <h2>Iniciar Sesi√≥n</h2>
        <input type="text" id="login-username" placeholder="Usuario" required>
        <input type="password" id="login-password" placeholder="Contrase√±a" required>
        <button type="submit">Iniciar Sesi√≥n</button>
      </form>

      <!-- Formulario Registro -->
      <form id="form-register" class="auth-form" style="display:none">
        <h2>Registrarse</h2>
        <input type="text" id="register-username" placeholder="Usuario" required>
        <input type="password" id="register-password" placeholder="Contrase√±a" required>
        <button type="submit">Registrarse</button>
      </form>

      <div id="auth-mensaje" class="mensaje"></div>
    </div>
  </div>

  <!-- Panel de Productos (oculto hasta login) -->
  <div id="app-container" class="container" style="display:none">
    <div class="header">
      <h1>Gesti√≥n de Productos</h1>
      <div class="user-info">
        <span id="user-welcome"></span>
        <button id="btn-logout" class="btn-logout">Cerrar Sesi√≥n</button>
      </div>
    </div>

    <h2>Lista de productos</h2>

    <div class="controls">
      <input type="text" id="busqueda" placeholder="Buscar producto...">
      <button id="btn-cargar">Cargar productos</button>
    </div>

    <div id="spinner" class="spinner" style="display:none"></div>

    <table id="tabla-productos">
      <thead>
        <tr>
          <th>Imagen</th>
          <th data-field="nombre">Nombre ‚¨ç</th>
          <th data-field="precio">Precio ‚¨ç</th>
          <th data-field="descripcion">Descripci√≥n ‚¨ç</th>
          <th id="acciones-header">Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div id="paginacion" class="paginacion"></div>

    <!-- Formulario solo para admin -->
    <div id="form-container" class="product-form-container">
      <h2><span class="icon">‚ûï</span> A√±adir producto</h2>
      <form id="form-producto" class="product-form">
        <div class="form-row">
          <div class="form-group">
            <label for="nombre">Nombre del producto</label>
            <input type="text" id="nombre" placeholder="Ej: Laptop Dell XPS" required>
          </div>
          <div class="form-group">
            <label for="precio">Precio ($)</label>
            <input type="number" id="precio" placeholder="0.00" step="0.01" min="0" required>
          </div>
        </div>
        <div class="form-group">
          <label for="descripcion">Descripci√≥n</label>
          <textarea id="descripcion" placeholder="Describe el producto..." rows="3" required></textarea>
        </div>
        <div class="form-group">
          <label for="imagen">URL de la imagen (opcional)</label>
          <div class="image-url-container">
            <input type="url" id="imagen" placeholder="https://ejemplo.com/imagen.jpg">
            <div id="image-preview" class="image-preview"></div>
          </div>
        </div>
        <button type="submit" class="btn-submit">
          <span class="icon">üíæ</span> Guardar producto
        </button>
      </form>
    </div>

    <div id="mensaje" class="mensaje"></div>
  </div>

  <!-- Panel de Chat (oculto hasta login) -->
  <div id="chat-container" class="chat-container" style="display:none">
    <div class="chat-header">
      <h2>Chat en Tiempo Real</h2>
      <button id="btn-toggle-chat" class="btn-toggle-chat">Minimizar</button>
    </div>
    
    <div class="chat-messages" id="chat-messages">
      <!-- Los mensajes aparecer√°n aqu√≠ -->
    </div>
    
    <div class="chat-form">
      <form id="chat-form">
        <input type="text" id="chat-input" placeholder="Escribe tu mensaje..." autocomplete="off">
        <button type="submit">Enviar</button>
      </form>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="main.js"></script>
</body>
</html>
